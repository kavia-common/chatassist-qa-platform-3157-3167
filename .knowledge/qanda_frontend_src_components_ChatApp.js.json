{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines the main React component for the ChatAssist frontend application, including UI components for header, login modal, sidebar, message display, and message composer. It manages application state, interacts with backend APIs, and renders the chat interface.", "external_files": ["../services/api", "./chat.css"], "external_methods": ["apiHealth", "apiSendMessage", "apiGetHistory", "apiAuthStatus", "apiLogin", "apiLogout"], "published": ["default", "ChatApp"], "classes": [{"name": "Header", "description": "Component for rendering the application header, including user greeting and login/logout actions."}, {"name": "LoginModal", "description": "Modal component for user login, handles login form display and submission."}, {"name": "Sidebar", "description": "Sidebar component displaying conversation history, allowing users to select or toggle conversation views."}, {"name": "Message", "description": "Component for rendering individual chat messages, differentiating user and assistant roles."}, {"name": "Composer", "description": "Input area for composing and sending new chat messages."}], "methods": [{"name": "useAutoScroll(deps)", "description": "Custom hook that scrolls the message view to the bottom when messages update.", "scope": "", "scopeKind": ""}, {"name": "ChatApp", "description": "Main React component managing overall chat state, handling API interactions, and rendering UI components."}, {"name": "Composer({ disabled, onSend })", "scope": "LoginModal", "scopeKind": "function", "description": "unavailable"}, {"name": "Header({ user, onLoginClick, onLogout })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "LoginModal({ open, onClose, onSubmit, error })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Message({ role, content })", "scope": "LoginModal", "scopeKind": "function", "description": "unavailable"}, {"name": "Sidebar({ open, items, activeId, onSelect, onToggle })", "scope": "LoginModal", "scopeKind": "function", "description": "unavailable"}], "calls": ["apiHealth", "apiGetHistory", "apiAuthStatus", "apiLogin", "apiLogout", "apiSendMessage"], "search-terms": ["React chat interface", "API interaction for chat", "Chat message state management", "History sidebar", "login modal React"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "1", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        rows={1}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.Composer.rows", "scopeKind": "class"}, {"_type": "tag", "name": "Composer", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^function Composer({ disabled, onSend }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ disabled, onSend })", "scope": "LoginModal", "scopeKind": "function"}, {"_type": "tag", "name": "Header", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^function Header({ user, onLoginClick, onLogout }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ user, onLoginClick, onLogout })"}, {"_type": "tag", "name": "LoginModal", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^function LoginModal({ open, onClose, onSubmit, error }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ open, onClose, onSubmit, error })"}, {"_type": "tag", "name": "Message", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^function Message({ role, content }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ role, content })", "scope": "LoginModal", "scopeKind": "function"}, {"_type": "tag", "name": "Sidebar", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^function Sidebar({ open, items, activeId, onSelect, onToggle }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ open, items, activeId, onSelect, onToggle })", "scope": "LoginModal", "scopeKind": "function"}, {"_type": "tag", "name": "activeChat", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^            activeId={activeChat?.id || null}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.activeId", "scopeKind": "class"}, {"_type": "tag", "name": "answerMsg", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^      const answerMsg = { role: \"assistant\", content: res.answer || \"...\" };$/", "language": "JavaScript", "kind": "class", "scope": "LoginModal", "scopeKind": "class"}, {"_type": "tag", "name": "background", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^  background: \"#f9fafb\",$/", "language": "JavaScript", "kind": "property", "scope": "colors", "scopeKind": "class"}, {"_type": "tag", "name": "colors", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^const colors = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "connected", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^                title={connected ? \"Connected\" : \"Disconnected\"}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.title", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^      const answerMsg = { role: \"assistant\", content: res.answer || \"...\" };$/", "language": "JavaScript", "kind": "property", "scope": "LoginModal.answerMsg", "scopeKind": "class"}, {"_type": "tag", "name": "content", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^    const localMsg = { role: \"user\", content: text };$/", "language": "JavaScript", "kind": "property", "scope": "LoginModal.localMsg", "scopeKind": "class"}, {"_type": "tag", "name": "disabled", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        disabled={disabled}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.Composer.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "dot ${connected ? \"ok\" : \"err\"}", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^                className={`dot ${connected ? \"ok\" : \"err\"}`}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.className", "scopeKind": "class"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^  error: \"#EF4444\",$/", "language": "JavaScript", "kind": "property", "scope": "colors", "scopeKind": "class"}, {"_type": "tag", "name": "history", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^            items={history}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.items", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        id: res.chat_id || activeChat?.id || `temp-${Date.now()}`,$/", "language": "JavaScript", "kind": "property", "scope": "LoginModal.updatedChat", "scopeKind": "class"}, {"_type": "tag", "name": "localMsg", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^    const localMsg = { role: \"user\", content: text };$/", "language": "JavaScript", "kind": "class", "scope": "LoginModal", "scopeKind": "class"}, {"_type": "tag", "name": "loginError", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        error={loginError}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.error", "scopeKind": "class"}, {"_type": "tag", "name": "loginOpen", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        open={loginOpen}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.open", "scopeKind": "class"}, {"_type": "tag", "name": "messages", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        messages:$/", "language": "JavaScript", "kind": "property", "scope": "LoginModal.updatedChat", "scopeKind": "class"}, {"_type": "tag", "name": "msg ${isUser ? \"user\" : \"assistant\"}", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^    <div className={`msg ${isUser ? \"user\" : \"assistant\"}`}>$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.Message.AnonymousClassd9da60a50201", "scopeKind": "class"}, {"_type": "tag", "name": "onKey", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        onKeyDown={onKey}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.Composer.onKeyDown", "scopeKind": "class"}, {"_type": "tag", "name": "onLogin", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        onSubmit={onLogin}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.onSubmit", "scopeKind": "class"}, {"_type": "tag", "name": "onSelectHistory", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^            onSelect={onSelectHistory}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.onSelect", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^            value={password}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.value", "scopeKind": "class"}, {"_type": "tag", "name": "primary", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^  primary: \"#2563EB\", \\/\\/ blue$/", "language": "JavaScript", "kind": "property", "scope": "colors", "scopeKind": "class"}, {"_type": "tag", "name": "qa-sidebar ${open ? \"open\" : \"\"}", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^    <aside className={`qa-sidebar ${open ? \"open\" : \"\"}`}>$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.Sidebar.AnonymousClassd9da60a50101", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^      const answerMsg = { role: \"assistant\", content: res.answer || \"...\" };$/", "language": "JavaScript", "kind": "property", "scope": "LoginModal.answerMsg", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^    const localMsg = { role: \"user\", content: text };$/", "language": "JavaScript", "kind": "property", "scope": "LoginModal.localMsg", "scopeKind": "class"}, {"_type": "tag", "name": "secondary", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^  secondary: \"#F59E0B\", \\/\\/ amber$/", "language": "JavaScript", "kind": "property", "scope": "colors", "scopeKind": "class"}, {"_type": "tag", "name": "sidebarOpen", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^            open={sidebarOpen}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.open", "scopeKind": "class"}, {"_type": "tag", "name": "surface", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^  surface: \"#ffffff\",$/", "language": "JavaScript", "kind": "property", "scope": "colors", "scopeKind": "class"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^  text: \"#111827\",$/", "language": "JavaScript", "kind": "property", "scope": "colors", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        title: res.title || activeChat?.title || text.slice(0, 30),$/", "language": "JavaScript", "kind": "property", "scope": "LoginModal.updatedChat", "scopeKind": "class"}, {"_type": "tag", "name": "updatedChat", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^      const updatedChat = {$/", "language": "JavaScript", "kind": "class", "scope": "LoginModal", "scopeKind": "class"}, {"_type": "tag", "name": "useAutoScroll", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^function useAutoScroll(deps) {$/", "language": "JavaScript", "kind": "function", "signature": "(deps)"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^            value={username}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.autoFocus", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/chatassist-qa-platform-3157-3167/qanda_frontend/src/components/ChatApp.js", "pattern": "/^        value={value}$/", "language": "JavaScript", "kind": "field", "scope": "LoginModal.Composer.value", "scopeKind": "class"}], "hash": "4b26ecb2e9ffc1b618aae3802cc1253e", "format-version": 4, "code-base-name": "qanda_frontend", "filename": "qanda_frontend/src/components/ChatApp.js", "fields": [{"name": "rows={1}", "scope": "LoginModal.Composer.rows", "scopeKind": "class", "description": "unavailable"}, {"name": "activeId={activeChat?.id || null}", "scope": "LoginModal.activeId", "scopeKind": "class", "description": "unavailable"}, {"name": "background: \"#f9fafb\",", "scope": "colors", "scopeKind": "class", "description": "unavailable"}, {"name": "title={connected ? \"Connected\" : \"Disconnected\"}", "scope": "LoginModal.title", "scopeKind": "class", "description": "unavailable"}, {"name": "const answerMsg = { role: \"assistant\", content: res.answer || \"...\" };", "scope": "LoginModal.answerMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "const localMsg = { role: \"user\", content: text };", "scope": "LoginModal.localMsg", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={disabled}", "scope": "LoginModal.Composer.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`dot ${connected ? \"ok\" : \"err\"}`}", "scope": "LoginModal.className", "scopeKind": "class", "description": "unavailable"}, {"name": "error: \"#EF4444\",", "scope": "colors", "scopeKind": "class", "description": "unavailable"}, {"name": "items={history}", "scope": "LoginModal.items", "scopeKind": "class", "description": "unavailable"}, {"name": "id: res.chat_id || activeChat?.id || `temp-${Date.now()}`,", "scope": "LoginModal.updatedChat", "scopeKind": "class", "description": "unavailable"}, {"name": "error={loginError}", "scope": "LoginModal.error", "scopeKind": "class", "description": "unavailable"}, {"name": "open={loginOpen}", "scope": "LoginModal.open", "scopeKind": "class", "description": "unavailable"}, {"name": "messages:", "scope": "LoginModal.updatedChat", "scopeKind": "class", "description": "unavailable"}, {"name": "<div className={`msg ${isUser ? \"user\" : \"assistant\"}`}>", "scope": "LoginModal.Message.AnonymousClassd9da60a50201", "scopeKind": "class", "description": "unavailable"}, {"name": "onKeyDown={onKey}", "scope": "LoginModal.Composer.onKeyDown", "scopeKind": "class", "description": "unavailable"}, {"name": "onSubmit={onLogin}", "scope": "LoginModal.onSubmit", "scopeKind": "class", "description": "unavailable"}, {"name": "onSelect={onSelectHistory}", "scope": "LoginModal.onSelect", "scopeKind": "class", "description": "unavailable"}, {"name": "value={password}", "scope": "LoginModal.value", "scopeKind": "class", "description": "unavailable"}, {"name": "primary: \"#2563EB\", \\/\\/ blue", "scope": "colors", "scopeKind": "class", "description": "unavailable"}, {"name": "<aside className={`qa-sidebar ${open ? \"open\" : \"\"}`}>", "scope": "LoginModal.Sidebar.AnonymousClassd9da60a50101", "scopeKind": "class", "description": "unavailable"}, {"name": "secondary: \"#F59E0B\", \\/\\/ amber", "scope": "colors", "scopeKind": "class", "description": "unavailable"}, {"name": "open={sidebarOpen}", "scope": "LoginModal.open", "scopeKind": "class", "description": "unavailable"}, {"name": "surface: \"#ffffff\",", "scope": "colors", "scopeKind": "class", "description": "unavailable"}, {"name": "text: \"#111827\",", "scope": "colors", "scopeKind": "class", "description": "unavailable"}, {"name": "title: res.title || activeChat?.title || text.slice(0, 30),", "scope": "LoginModal.updatedChat", "scopeKind": "class", "description": "unavailable"}, {"name": "value={username}", "scope": "LoginModal.autoFocus", "scopeKind": "class", "description": "unavailable"}, {"name": "value={value}", "scope": "LoginModal.Composer.value", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}